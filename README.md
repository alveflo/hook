<p align="center">
<img src="http://i.imgur.com/oz5mpCu.png?1"><br/>
<h1 align="center">Captain Hook</h1>
</p>
<p align="center">
<a href="https://travis-ci.org/victorzki/hook.svg?branch=master"><img src="https://travis-ci.org/victorzki/hook.svg?branch=master"></a>
<a href="https://badge.fury.io/js/cpthook"><img src="https://badge.fury.io/js/cpthook.svg"></a>
</p>

Portable api faker and random data generator built upon [Faker](https://www.npmjs.com/package/Faker). It serves both as a static file server from either the execution path or given directory. This might come handy if you are working on front end code without a possibility to wire up a backend.
## Install
```
$ (sudo) npm install cpthook --global
```
## Getting started
```
$ hook init
$ hook serve
```
That's basically all there's to it.
## Options
```

Usage: hook [options]

Options:

  init                 Initialize configuration
  serve                Starts server
  -h, --help           output usage information
  -p, --port <port>    Port on which to run server. Defaults to 7000
  -c, --config <file>  Location of configuration json file. (Generated by "hook init").
                       Defaults to ./.cpthook.config
  -d, --dir <dir>      Directory of which to serve static files from. Defaults to ./

```
## Description
Initialize json configuration file;
```
$ hook init
```
`init` creates a `.cpthook.config` file which contains configuration for your web server:
```json
{
  "routes": [
    {
      "route": "/users",
      "repeat": 10,
      "data": {
        "name": "{{name.firstName}}",
        "lastname": " {{name.lastName}}",
        "email": "{{internet.email}}"
      }
    },
    {
      "route": "/companies",
      "repeat": 3,
      "data": {
        "companyName": "{{company.companyName}} {{company.companySuffix}}",
        "catchPhrase": "{{company.catchPhrase}}"
      }
    }
  ]
}
```

The configuration file consists of objects that must contain
- `route` on which respond to
- `repeat` how many json objects to fake. Defaults to 1 (one)
- `data` the data to respond with

Next up, we're ready to sail away;
```
$ hook serve
```
a `GET /companies` will (with configuration above) respond with:
```json
[
   {
      "companyName": "Skiles - Bashirian and Sons",
      "catchPhrase": "Operative 5th generation matrix"
   },
   {
      "companyName": "White - Grant Inc",
      "catchPhrase": "Virtual intangible ability"
   },
   {
      "companyName": "Douglas, Gorczany and Schultz LLC",
      "catchPhrase": "Persistent context-sensitive encoding"
   }
]
```
## License
MIT
